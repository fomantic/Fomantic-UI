/*
 * # Fomantic UI - 2.9.4
 * https://github.com/fomantic/Fomantic-UI
 * https://fomantic-ui.com/
 *
 * Copyright 2025 Contributors
 * Released under the MIT license
 * https://opensource.org/licenses/MIT
 *
 */
!function(N,z,$){"use strict";function I(e){return"function"==typeof e&&"number"!=typeof e.nodeType}z=void 0!==z&&z.Math===Math?z:globalThis,N.fn.form=function(D){var A,R=N(this),F=N(z),S=Date.now(),T=[],L=D,O="string"==typeof L,j=[].slice.call(arguments,1);return R.each(function(){var i,f,e,t,m,g,p,h,v,n,u,r,a,l,o,s,c,b=N(this),d=this,y=[],x={},k=!1,E=!1,C=!1,w=["clean","clean"],V={initialize:function(){V.get.settings(),b.addClass(v.initial),O?(void 0===c&&V.instantiate(),V.invoke(L)):(void 0!==c&&(c.invoke("destroy"),V.refresh()),V.verbose("Initializing form validation",b,m),V.bindEvents(),V.set.defaults(),m.autoCheckRequired&&V.set.autoCheck(),V.instantiate())},instantiate:function(){V.verbose("Storing instance of module",V),c=V,b.data(a,V)},destroy:function(){V.verbose("Destroying previous module",c),V.removeEvents(),b.removeData(a)},refresh:function(){V.verbose("Refreshing selector cache"),i=b.find(h.field),f=b.find(h.group),e=b.find(h.message),b.find(h.prompt),t=b.find(h.submit),b.find(h.clear),b.find(h.reset)},refreshEvents:function(){V.removeEvents(),V.bindEvents()},submit:function(e){V.verbose("Submitting form",b),E=!0,b.trigger("submit"),e&&e.preventDefault()},attachEvents:function(e,t){t=t||"submit",N(e).on("click"+l,function(e){V[t](),e.preventDefault()}),o=e,s=t},bindEvents:function(){V.verbose("Attaching form events"),b.on("submit"+l,V.validate.form).on("blur"+l,h.field,V.event.field.blur).on("click"+l,h.submit,V.submit).on("click"+l,h.reset,V.reset).on("click"+l,h.clear,V.clear),i.on("invalid"+l,V.event.field.invalid),m.keyboardShortcuts&&b.on("keydown"+l,h.field,V.event.field.keydown),i.each(function(e,t){var t=N(t),n=t.prop("type"),n=V.get.changeEvent(n,t);t.on(n+l,V.event.field.change)}),m.preventLeaving&&F.on("beforeunload"+l,V.event.beforeUnload),i.on("change"+l+" click"+l+" keyup"+l+" keydown"+l+" blur"+l,function(e){V.determine.isDirty()}),b.on("dirty"+l,function(e){m.onDirty.call()}),b.on("clean"+l,function(e){m.onClean.call()}),o&&V.attachEvents(o,s)},clear:function(){i.each(function(e,t){var t=N(t),n=t.parent(),r=t.closest(f),i=r.find(h.prompt),a=t.closest(h.uiCalendar),o=t.data(p.defaultValue)||"",l=t.is(h.checkbox),s=n.is(h.uiDropdown)&&V.can.useElement("dropdown"),u=0<a.length&&V.can.useElement("calendar");r.hasClass(v.error)&&(V.verbose("Resetting error on field",r),r.removeClass(v.error),i.remove()),s?(V.verbose("Resetting dropdown value",n,o),n.dropdown("clear",!0)):l?t.prop("checked",!1):u?a.calendar("clear"):(V.verbose("Resetting field value",t,o),t.val(""))}),V.remove.states()},reset:function(){i.each(function(e,t){var t=N(t),n=t.parent(),r=t.closest(f),i=t.closest(h.uiCalendar),a=r.find(h.prompt),o=t.data(p.defaultValue),l=t.is(h.checkbox),s=n.is(h.uiDropdown)&&V.can.useElement("dropdown"),u=0<i.length&&V.can.useElement("calendar"),c=t.is(h.file),d=r.hasClass(v.error);void 0!==o&&(d&&(V.verbose("Resetting error on field",r),r.removeClass(v.error),a.remove()),s?(V.verbose("Resetting dropdown value",n,o),n.dropdown("restore defaults",!0)):l?(V.verbose("Resetting checkbox value",t,o),t.prop("checked",o)):u?i.calendar("set date",o):(V.verbose("Resetting field value",t,o),t.val(c?"":o)))}),V.remove.states()},determine:{isValid:function(){var r=!0;return i.each(function(e,t){var t=N(t),n=V.get.validation(t)||{},t=V.get.identifier(n,t);V.validate.field(n,t,!0)||(r=!1)}),r},isDirty:function(e){var r=!1;i.each(function(e,t){var t=N(t),n=0<t.filter(h.checkbox).length?V.is.checkboxDirty(t):V.is.fieldDirty(t);t.data(m.metadata.isDirty,n),r=r||n}),r?V.set.dirty():V.set.clean()}},is:{bracketedRule:function(e){return e.type&&e.type.match(m.regExp.bracket)},shorthandRules:function(e){return"string"==typeof e||Array.isArray(e)},empty:function(e){return!e||0===e.length||(e.is(h.checkbox)?!e.is(":checked"):V.is.blank(e))},blank:function(e){return""===String(e.val()).trim()},valid:function(e,n){var r=!0;return e?(V.verbose("Checking if field is valid",e),V.validate.field(g[e],e,!!n)):(V.verbose("Checking if form is valid"),N.each(g,function(e,t){V.is.valid(e,n)||(r=!1)}),r)},dirty:function(){return C},clean:function(){return!C},fieldDirty:function(e){var t=e.data(p.defaultValue),e=(null==t?t="":Array.isArray(t)&&(t=t.toString()),e.val()),n=(null==e?e="":Array.isArray(e)&&(e=e.toString()),/^(true|false)$/i);return n.test(t)&&n.test(e)?!new RegExp("^"+t+"$","i").test(e):e!==t},checkboxDirty:function(e){return e.data(p.defaultValue)!==e.is(":checked")},justDirty:function(){return"dirty"===w[0]},justClean:function(){return"clean"===w[0]}},removeEvents:function(){b.off(l),i.off(l),t.off(l),m.preventLeaving&&F.off(l),o&&(N(o).off(l),o=void 0)},event:{field:{keydown:function(e){var t=N(this),n=e.which,r=t.is(h.input),i=t.is(h.checkbox),a=0<t.closest(h.uiDropdown).length,o=13;n===27&&(V.verbose("Escape key pressed blurring field"),t[0].blur()),e.ctrlKey||n!==o||!r||a||i||(k||(t.one("keyup"+l,V.event.field.keyup),V.submit(e),V.debug("Enter pressed on input submitting form")),k=!0)},keyup:function(){k=!1},invalid:function(e){e.preventDefault()},blur:function(e){var t=N(this),n=V.get.validation(t)||{},r=V.get.identifier(n,t);("blur"===m.on||!b.hasClass(v.initial)&&m.revalidate)&&(V.debug("Revalidating field",t,n),V.validate.field(n,r),m.inline||V.validate.form(!1,!0))},change:function(e){var t=N(this),n=V.get.validation(t)||{},r=V.get.identifier(n,t);("change"===m.on||!b.hasClass(v.initial)&&m.revalidate)&&(clearTimeout(V.timer),V.timer=setTimeout(function(){V.debug("Revalidating field",t,n),V.validate.field(n,r),m.inline||V.validate.form(!1,!0)},m.delay))}},beforeUnload:function(e){if(V.is.dirty()&&!E)return(e=e||z.event)&&(e.returnValue=m.text.leavingMessage),m.text.leavingMessage}},get:{ancillaryValue:function(e){return!(!e.type||!e.value&&!V.is.bracketedRule(e))&&(void 0!==e.value?e.value:e.type.match(m.regExp.bracket)[1]+"")},ruleName:function(e){return V.is.bracketedRule(e)?e.type.replace(e.type.match(m.regExp.bracket)[0],""):e.type},changeEvent:function(e,t){return 0<=["file","checkbox","radio","hidden"].indexOf(e)||t.is("select")?"change":"input"},fieldsFromShorthand:function(e){var r={};return N.each(e,function(n,e){Array.isArray(e)||"object"!=typeof e?("string"==typeof e&&(e=[e]),r[n]={rules:[]},N.each(e,function(e,t){r[n].rules.push({type:t})})):r[n]=e,N.each(r[n].rules,function(e,t){"empty"===V.get.ruleName(t)&&V.warn('*** DEPRECATED *** : Rule "empty" for field "'+n+'" will be removed in a future version. -> Use "notEmpty" rule instead.')})}),r},identifier:function(e,t){return e.identifier||t.attr("id")||t.attr("name")||t.data(p.validate)},prompt:function(e,t){var n,r=V.get.ruleName(e),i=V.get.ancillaryValue(e),a=V.get.field(t.identifier),o=a.val(),l=e.prompt||m.prompt[r]||m.text.unspecifiedRule,o=String(I(l)?l.call(a[0],o):l),l=-1!==o.search("{value}"),s=-1!==o.search("{name}");return i&&0<=["integer","decimal","number","size"].indexOf(r)&&0<=i.indexOf("..")&&(n=i.split("..",2),e.prompt||"size"===r||(o+=(""===n[0]?m.prompt.maxValue.replace(/{ruleValue}/g,"{max}"):""===n[1]?m.prompt.minValue.replace(/{ruleValue}/g,"{min}"):m.prompt.range).replace(/{name}/g," "+m.text.and)),o=(o=o.replace(/{min}/g,n[0])).replace(/{max}/g,n[1])),i&&0<=["match","different"].indexOf(r)&&(o=o.replace(/{ruleValue}/g,V.get.fieldLabel(i,!0))),l&&(o=o.replace(/{value}/g,a.val())),o=(o=(o=s?o.replace(/{name}/g,V.get.fieldLabel(a)):o).replace(/{identifier}/g,t.identifier)).replace(/{ruleValue}/g,i),e.prompt||V.verbose("Using default validation prompt for type",o,r),o},settings:function(){N.isPlainObject(D)?((m=N.extend(!0,{},N.fn.form.settings,D)).fields&&(m.fields=V.get.fieldsFromShorthand(m.fields)),g=N.extend(!0,{},N.fn.form.settings.defaults,m.fields),V.verbose("Extending settings",g,m)):(m=N.extend(!0,{},N.fn.form.settings),g=N.extend(!0,{},N.fn.form.settings.defaults),V.verbose("Using default form validation",g,m)),r=m.namespace,p=m.metadata,h=m.selector,v=m.className,n=m.regExp,u=m.error,a="module-"+r,l="."+r,((c=b.data(a))||V).refresh()},field:function(e,t,n){var r;return V.verbose("Finding field with identifier",e),e=V.escape.string(e),0<(r=i.filter("#"+e)).length||0<(r=i.filter('[name="'+e+'"]')).length||0<(r=i.filter('[name="'+e+'[]"]')).length||0<(r=i.filter("[data-"+p.validate+'="'+e+'"]')).length?r:(n||V.error(u.noField.replace("{identifier}",e)),t?N():N("<input/>"))},fields:function(e,n){var r=N();return N.each(e,function(e,t){r=r.add(V.get.field(t,n))}),r},fieldLabel:function(e,t){var n="string"==typeof e?V.get.field(e):e,r=n.closest(h.group).find("label:not(:empty)").eq(0);return 1===r.length?r.text():n.prop("placeholder")||(t?e:m.text.unspecifiedField)},validation:function(r){var i,a;return!!g&&(N.each(g,function(e,n){a=n.identifier||e,N.each(V.get.field(a),function(e,t){if(t==r[0])return n.identifier=a,i=n,!1})}),i||!1)},value:function(e,t){var n=[];return n.push(e),e=V.get.values.call(d,n,t),0<(n=Object.keys(e)).length?e[n[0]]:void 0},values:function(e,t){var e=Array.isArray(e)&&0<e.length?V.get.fields(e,t):i,d={};return e.each(function(e,t){var t=N(t),n=t.closest(h.uiCalendar),r=t.prop("name")||t.prop("id"),i=t.val(),a=t.is(h.checkbox),o=t.is(h.radio),l=-1!==r.indexOf("[]"),s=0<n.length&&V.can.useElement("calendar"),t=!!a&&t.is(":checked");if(r)if(l)r=r.replace("[]",""),d[r]||(d[r]=[]),a?t?d[r].push(i||!0):d[r].push(!1):d[r].push(i);else if(o)void 0!==d[r]&&!1!==d[r]||(d[r]=!!t&&(i||!0));else if(a)d[r]=!!t&&(i||!0);else if(s){var u=n.calendar("get date");if(null!==u)switch(m.dateHandling){case"date":d[r]=u;break;case"input":d[r]=n.calendar("get input date");break;case"formatter":var c=n.calendar("setting","type");switch(c){case"date":d[r]=m.formatter.date(u);break;case"datetime":d[r]=m.formatter.datetime(u);break;case"time":d[r]=m.formatter.time(u);break;case"month":d[r]=m.formatter.month(u);break;case"year":d[r]=m.formatter.year(u);break;default:V.debug("Wrong calendar mode",n,c),d[r]=""}}else d[r]=""}else d[r]=i}),d},dirtyFields:function(){return i.filter(function(e,t){return N(t).data(p.isDirty)})}},has:{field:function(e,t){return V.verbose("Checking for existence of a field with identifier",e),0<V.get.field(e,!0,t).length}},can:{useElement:function(e){return void 0!==N.fn[e]||(V.error(u.noElement.replace("{element}",e)),!1)}},escape:{string:function(e){return(e=String(e)).replace(n.escape,"\\$&")}},checkErrors:function(e,t){return e&&0!==e.length?!t&&"string"==typeof e?[e]:e:(t||V.error(m.error.noErrorMessage),!1)},add:{rule:function(e,t){V.add.field(e,t)},field:function(n,e){void 0!==g[n]&&void 0!==g[n].rules||(g[n]={rules:[]});var r={rules:[]};V.is.shorthandRules(e)?(e=Array.isArray(e)?e:[e],N.each(e,function(e,t){r.rules.push({type:t})})):r.rules=e.rules,N.each(r.rules,function(e,t){0===N.grep(g[n].rules,function(e){return e.type===t.type}).length&&g[n].rules.push(t)}),V.debug("Adding rules",r.rules,g),V.refreshEvents()},fields:function(e){g=N.extend(!0,{},g,V.get.fieldsFromShorthand(e)),V.refreshEvents()},prompt:function(e,t,n){var r,i,a,o;!1!==(t=V.checkErrors(t))&&(a=0<(i=(r=V.get.field(e).closest(f)).children(h.prompt)).length,o=m.transition&&V.can.useElement("transition"),V.verbose("Adding field error state",e),n||r.addClass(v.error),m.inline?(a&&(o?i.transition("is animating")&&i.transition("stop all"):i.is(":animated")&&i.stop(!0,!0),a=0<(i=r.children(h.prompt)).length),a||(i=N("<div/>").addClass(v.label),o||i.css("display","none"),i.appendTo(r.filter("."+v.error))),i.html(m.templates.prompt(t)),a||(o?(V.verbose("Displaying error with css transition",m.transition),i.transition(m.transition+" in",m.duration)):(V.verbose("Displaying error with fallback javascript animation"),i.fadeIn(m.duration)))):V.verbose("Inline errors are disabled, no inline error added",e))},errors:function(t){var r,i;!1!==(t=V.checkErrors(t))&&(V.debug("Adding form error messages",t),V.set.error(),r=[],N.isPlainObject(t)?N.each(Object.keys(t),function(e,n){!1!==V.checkErrors(t[n],!0)&&(m.inline?V.add.prompt(n,t[n]):!1!==(i=V.checkErrors(t[n]))&&N.each(i,function(e,t){r.push(m.prompt.addErrors.replace(/{name}/g,V.get.fieldLabel(n)).replace(/{error}/g,t))}))}):r=t,0<r.length&&e.html(m.templates.error(r)))}},remove:{errors:function(){V.debug("Removing form error messages"),e.empty()},states:function(){b.removeClass(v.error).removeClass(v.success).addClass(v.initial),m.inline||V.remove.errors(),V.determine.isDirty()},rule:function(n,e){var r=Array.isArray(e)?e:[e];if(void 0!==g[n]&&Array.isArray(g[n].rules))return void 0===e?(V.debug("Removed all rules"),void(V.has.field(n,!0)?g[n].rules=[]:delete g[n])):void N.each(g[n].rules,function(e,t){t&&-1!==r.indexOf(t.type)&&(V.debug("Removed rule",t.type),g[n].rules.splice(e,1))})},field:function(e){e=Array.isArray(e)?e:[e];N.each(e,function(e,t){V.remove.rule(t)}),V.refreshEvents()},rules:function(e,n){Array.isArray(e)?N.each(e,function(e,t){V.remove.rule(t,n)}):V.remove.rule(e,n)},fields:function(e){V.remove.field(e)},prompt:function(e){var t=V.get.field(e).closest(f),n=t.children(h.prompt);t.removeClass(v.error),m.inline&&n.is(":visible")&&(V.verbose("Removing prompt for field",e),m.transition&&V.can.useElement("transition")?n.transition(m.transition+" out",m.duration,function(){n.remove()}):n.fadeOut(m.duration,function(){n.remove()}))}},set:{success:function(){b.removeClass(v.error).addClass(v.success)},defaults:function(){i.each(function(e,t){var t=N(t),n=t.parent(),r=0<t.filter(h.checkbox).length,i=(n.is(h.uiDropdown)||t.is(h.uiDropdown))&&V.can.useElement("dropdown"),a=t.closest(h.uiCalendar),o=0<a.length&&V.can.useElement("calendar"),r=r?t.is(":checked"):t.val();i?(n.is(h.uiDropdown)?n:t).dropdown("save defaults"):o&&a.calendar("refresh"),t.data(p.defaultValue,r),t.data(p.isDirty,!1)})},error:function(){b.removeClass(v.success).addClass(v.error)},value:function(e,t){var n={};return n[e]=t,V.set.values.call(d,n)},values:function(e){N.isEmptyObject(e)||N.each(e,function(e,t){var n,r=V.get.field(e),i=r.parent(),e=r.closest(h.uiCalendar),a=r.is(h.file),o=Array.isArray(t),l=i.is(h.uiCheckbox)&&V.can.useElement("checkbox"),s=i.is(h.uiDropdown)&&V.can.useElement("dropdown"),u=r.is(h.radio)&&l,c=0<e.length&&V.can.useElement("calendar");0<r.length&&(o&&l?(V.verbose("Selecting multiple",t,r),i.checkbox("uncheck"),N.each(t,function(e,t){n=r.filter('[value="'+t+'"]'),i=n.parent(),0<n.length&&i.checkbox("check")})):u?(V.verbose("Selecting radio value",t,r),r.filter('[value="'+t+'"]').parent(h.uiCheckbox).checkbox("check")):l?(V.verbose("Setting checkbox value",t,i),!0===t||1===t||"on"===t?i.checkbox("check"):i.checkbox("uncheck"),"string"==typeof t&&r.val(t)):s?(V.verbose("Setting dropdown value",t,i),i.dropdown("set selected",t)):c?e.calendar("set date",t):(V.verbose("Setting field value",t,r),r.val(a?"":t)))})},dirty:function(){V.verbose("Setting state dirty"),C=!0,w[0]=w[1],w[1]="dirty",V.is.justClean()&&b.trigger("dirty")},clean:function(){V.verbose("Setting state clean"),C=!1,w[0]=w[1],w[1]="clean",V.is.justDirty()&&b.trigger("clean")},asClean:function(){V.set.defaults(),V.set.clean()},asDirty:function(){V.set.defaults(),V.set.dirty()},autoCheck:function(){V.debug("Enabling auto check on required fields"),g&&N.each(g,function(e){V.has.field(e,!0)||(V.verbose("Field not found, removing from validation",e),V.remove.field(e))}),i.each(function(e,t){var t=N(t),n=t.closest(f),r=0<t.filter(h.checkbox).length,i=t.prop("required")||n.hasClass(v.required)||n.parent().hasClass(v.required),n=t.is(":disabled")||n.hasClass(v.disabled)||n.parent().hasClass(v.disabled),a=V.get.validation(t),o=!!a&&0<N.grep(a.rules,function(e){return 0<=["notEmpty","checked","empty"].indexOf(e.type)}).length,a=V.get.identifier(a,t);!i||n||o||void 0===a||(r?(V.verbose("Adding 'checked' rule on field",a),V.add.rule(a,"checked")):(V.verbose("Adding 'notEmpty' rule on field",a),V.add.rule(a,"notEmpty")))})},optional:function(n,r){r=!1!==r,N.each(g,function(e,t){n!==e&&n!==t.identifier||(t.optional=r)})}},validate:{form:function(e,t){var n,r=V.get.values();if(k)return!1;if(b.removeClass(v.initial),y=[],x={},V.determine.isValid()){if(V.debug("Form has no validation errors, submitting"),V.set.success(),m.inline||V.remove.errors(),!0!==t)return m.onSuccess.call(d,e,r)}else if(V.debug("Form has errors"),E=!1,V.set.error(),m.inline||V.add.errors(y),e&&void 0!==b.data("moduleApi")&&e.stopImmediatePropagation(),m.errorFocus&&!0!==t&&(e=!0,"string"==typeof m.errorFocus?(e=(n=N($).find(m.errorFocus)).is("[tabindex]"))||n.attr("tabindex",-1):n=f.filter("."+v.error).first().find(h.field),n.trigger("focus"),e||n.removeAttr("tabindex")),!0!==t)return m.onFailure.call(d,y,r)},field:function(r,e,i){if(i=void 0===i||i,"string"==typeof r&&(V.verbose("Validating field",r),r=g[e=r]),!r)return V.debug("Unable to find field validation. Skipping",e),!0;var a,o=r.identifier||e,e=V.get.field(o),t=e.closest(f),n=!!r.depends&&V.get.field(r.depends),l=!0,s=[],u=0===e.filter(":not(:disabled)").length||t.hasClass(v.disabled)||t.parent().hasClass(v.disabled),c=e[0].validationMessage,d=r.noNativeValidation||m.noNativeValidation||0<e.filter("[formnovalidate],[novalidate]").length||0<b.filter("[novalidate]").length;return r.identifier||(V.debug("Using field name as identifier",o),r.identifier=o),!c||d||u?i&&t.removeClass(v.error):(V.debug("Field is natively invalid",o),s.push(c),l=!1,i&&t.addClass(v.error)),u?V.debug("Field is disabled. Skipping",o):r.optional&&V.is.blank(e)?V.debug("Field is optional and blank. Skipping",o):r.depends&&V.is.empty(n)?V.debug("Field depends on another value that is not present or empty. Skipping",n):void 0!==r.rules&&(a=r.errorLimit||m.errorLimit,N.each(r.rules,function(e,t){var n;V.has.field(o)&&(!a||s.length<a)&&0<(n=V.validate.rule(r,t,!0)||[]).length&&(V.debug("Field is invalid",o,t.type),t=V.get.prompt(t,r),m.inline?s.push(t):o in x&&-1!==x[o].indexOf(t)||a&&!((x[o]||[]).length<a)||(s.push(t),(x[o]=x[o]||[]).push(t)),l=!1,i&&N(n).closest(f).addClass(v.error))})),l?(i&&(V.remove.prompt(o),m.onValid.call(e)),!0):(i&&0<s.length&&(y=y.concat(s),V.add.prompt(o,s,!0),m.onInvalid.call(e,s)),!1)},rule:function(e,n,t){function r(e){var t=void 0===(t=(s?N(e).filter(":checked"):N(e)).val())||""===t||null===t?"":m.shouldTrim&&!1!==n.shouldTrim||n.shouldTrim?String(t+"").trim():String(t+"");return o.call(e,t,i,V)}var e=V.get.field(e.identifier),i=V.get.ancillaryValue(n),a=V.get.ruleName(n),o=m.rules[a],l=[],s=e.is(h.checkbox);if(I(o))return s?r(e)||(l=e):N.each(e,function(e,t){r(t)||l.push(t)}),t?l:0===l.length;V.error(u.noRule,a)}},setting:function(e,t){if(N.isPlainObject(e))N.extend(!0,m,e);else{if(void 0===t)return m[e];m[e]=t}},internal:function(e,t){if(N.isPlainObject(e))N.extend(!0,V,e);else{if(void 0===t)return V[e];V[e]=t}},debug:function(){!m.silent&&m.debug&&(m.performance?V.performance.log(arguments):(V.debug=Function.prototype.bind.call(console.info,console,m.name+":"),V.debug.apply(console,arguments)))},verbose:function(){!m.silent&&m.verbose&&m.debug&&(m.performance?V.performance.log(arguments):(V.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),V.verbose.apply(console,arguments)))},error:function(){m.silent||(V.error=Function.prototype.bind.call(console.error,console,m.name+":"),V.error.apply(console,arguments))},warn:function(){m.silent||(V.warn=Function.prototype.bind.call(console.warn,console,m.name+":"),V.warn.apply(console,arguments))},performance:{log:function(e){var t,n;m.performance&&(n=(t=Date.now())-(S||t),S=t,T.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:d,"Execution Time":n})),clearTimeout(V.performance.timer),V.performance.timer=setTimeout(function(){V.performance.display()},500)},display:function(){var e=m.name+":",n=0;S=!1,clearTimeout(V.performance.timer),N.each(T,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",1<R.length&&(e+=" ("+R.length+")"),0<T.length&&(console.groupCollapsed(e),console.table?console.table(T):N.each(T,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),T=[]}},invoke:function(r,e,t){var i,a,n,o=c;return e=e||j,t=t||d,"string"==typeof r&&void 0!==o&&(r=r.split(/[ .]/),i=r.length-1,N.each(r,function(e,t){var n=e!==i?t+r[e+1].charAt(0).toUpperCase()+r[e+1].slice(1):r;if(N.isPlainObject(o[n])&&e!==i)o=o[n];else{if(void 0!==o[n])return a=o[n],!1;{if(!N.isPlainObject(o[t])||e===i)return void 0!==o[t]?a=o[t]:V.error(u.method,r),!1;o=o[t]}}})),I(a)?n=a.apply(t,e):void 0!==a&&(n=a),Array.isArray(A)?A.push(n):void 0!==A?A=[A,n]:void 0!==n&&(A=n),a}};V.initialize()}),void 0!==A?A:this},N.fn.form.settings={name:"Form",namespace:"form",silent:!1,debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,shouldTrim:!0,transition:"scale",duration:200,autoCheckRequired:!1,preventLeaving:!1,errorFocus:!0,dateHandling:"date",errorLimit:0,noNativeValidation:!1,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},onDirty:function(){},onClean:function(){},metadata:{defaultValue:"default",validate:"validate",isDirty:"isDirty"},regExp:{htmlID:/^[A-Za-z][\w.:-]*$/g,bracket:/\[(.*)]/i,decimal:/^\d+\.?\d*$/,email:/^[\w!#$%&'*+./=?^`{|}~-]+@[\da-z]([\da-z-]*[\da-z])?(\.[\da-z]([\da-z-]*[\da-z])?)*$/i,escape:/[$()*+,./:=?@[\\\]^{|}-]/g,flags:/^\/(.*)\/(.*)?/,integer:/^-?\d+$/,number:/^-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s.]+\.\S{2,}|www\.\S+\.\S{2,})/i},text:{and:"and",unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field",leavingMessage:"There are unsaved changes on this page which will be discarded if you continue."},prompt:{range:"{name} must be in a range from {min} to {max}",maxValue:"{name} must have a maximum value of {ruleValue}",minValue:"{name} must have a minimum value of {ruleValue}",empty:"{name} must have a value",notEmpty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contains:'{name} must contain "{ruleValue}"',containsExactly:'{name} must contain exactly "{ruleValue}"',doesntContain:'{name} cannot contain "{ruleValue}"',doesntContainExactly:'{name} cannot contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",size:"{name} must have a length between {min} and {max} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices",addErrors:"{name}: {error}"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:'input:not(.search):not([type="reset"]):not([type="button"]):not([type="submit"]), textarea, select',file:'input[type="file"]',group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown",uiCalendar:".ui.calendar"},className:{initial:"initial",error:"error",label:"ui basic red pointing prompt label",pressed:"down",success:"success",required:"required",disabled:"disabled"},error:{method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",noField:"Field identifier {identifier} not found",noElement:"This module requires ui {element}",noErrorMessage:"No error message provided"},templates:{error:function(e){var n='<ul class="list">';return N.each(e,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>"},prompt:function(e){if(1===e.length)return e[0];var n='<ul class="ui list">';return N.each(e,function(e,t){n+="<li>"+t+"</li>"}),n+="</ul>"}},formatter:{date:function(e){return Intl.DateTimeFormat("en-GB").format(e)},datetime:function(e){return Intl.DateTimeFormat("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e)},time:function(e){return Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e)},month:function(e){return Intl.DateTimeFormat("en-GB",{month:"2-digit",year:"numeric"}).format(e)},year:function(e){return Intl.DateTimeFormat("en-GB",{year:"numeric"}).format(e)}},rules:{notEmpty:function(e){return!(void 0===e||""===e||Array.isArray(e)&&0===e.length)},empty:function(e){return N.fn.form.settings.rules.notEmpty(e)},checked:function(){return 0<N(this).filter(":checked").length},email:function(e){return N.fn.form.settings.regExp.email.test(e)},url:function(e){return N.fn.form.settings.regExp.url.test(e)},regExp:function(e,t){if(t instanceof RegExp)return e.match(t);var n,r=t.match(N.fn.form.settings.regExp.flags);return r&&(t=2<=r.length?r[1]:t,n=3<=r.length?r[2]:""),e.match(new RegExp(t,n))},minValue:function(e,t){return N.fn.form.settings.rules.range(e,t+"..","number")},maxValue:function(e,t){return N.fn.form.settings.rules.range(e,".."+t,"number")},integer:function(e,t){return N.fn.form.settings.rules.range(e,t,"integer")},range:function(e,t,n,r){var i,a;return(n="string"==typeof n?N.fn.form.settings.regExp[n]:n)instanceof RegExp||(n=N.fn.form.settings.regExp.integer),t&&-1===["",".."].indexOf(t)&&(-1===t.indexOf("..")?n.test(t)&&(a=i=+t):(t=t.split("..",2),n.test(t[0])&&(i=+t[0]),n.test(t[1])&&(a=+t[1]))),r&&(e=e.length),n.test(e)&&(void 0===i||i<=e)&&(void 0===a||e<=a)},decimal:function(e,t){return N.fn.form.settings.rules.range(e,t,"decimal")},number:function(e,t){return N.fn.form.settings.rules.range(e,t,"number")},is:function(e,t){return t="string"==typeof t?t.toLowerCase():t,(e="string"==typeof e?e.toLowerCase():e)==t},isExactly:function(e,t){return e==t},not:function(e,t){return(e="string"==typeof e?e.toLowerCase():e)!=(t="string"==typeof t?t.toLowerCase():t)},notExactly:function(e,t){return e!=t},contains:function(e,t){return t=t.replace(N.fn.form.settings.regExp.escape,"\\$&"),-1!==e.search(new RegExp(t,"i"))},containsExactly:function(e,t){return t=t.replace(N.fn.form.settings.regExp.escape,"\\$&"),-1!==e.search(new RegExp(t))},doesntContain:function(e,t){return t=t.replace(N.fn.form.settings.regExp.escape,"\\$&"),-1===e.search(new RegExp(t,"i"))},doesntContainExactly:function(e,t){return t=t.replace(N.fn.form.settings.regExp.escape,"\\$&"),-1===e.search(new RegExp(t))},minLength:function(e,t){return N.fn.form.settings.rules.range(e,t+"..","integer",!0)},exactLength:function(e,t){return N.fn.form.settings.rules.range(e,t+".."+t,"integer",!0)},maxLength:function(e,t){return N.fn.form.settings.rules.range(e,".."+t,"integer",!0)},size:function(e,t){return N.fn.form.settings.rules.range(e,t,"integer",!0)},match:function(e,t,n){n=n.get.value(t,!0);return void 0!==n&&e.toString()===n.toString()},different:function(e,t,n){n=n.get.value(t,!0);return void 0!==n&&e.toString()!==n.toString()},creditCard:function(n,e){var r,i={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9]\d|[2-8]\d{2}|9[01]\d|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8]\d)/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},a=!1,e="string"==typeof e&&e.split(",");if("string"==typeof n&&0!==n.length){if(n=n.replace(/[\s-]/g,""),e&&(N.each(e,function(e,t){(r=i[t])&&0<(r={length:-1!==N.inArray(n.length,r.length),pattern:-1!==n.search(r.pattern)}).length&&r.pattern&&(a=!0)}),!a))return!1;if((e={number:-1!==N.inArray(n.length,i.unionPay.length),pattern:-1!==n.search(i.unionPay.pattern)}).number&&e.pattern)return!0;for(var t=n.length,o=0,l=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],s=0;t--;)s+=l[o][parseInt(n.charAt(t),10)],o^=1;return s%10==0&&0<s}},minCount:function(e,t){return 0===(t=Number(t))||(1===t?""!==e:e.split(",").length>=t)},exactCount:function(e,t){return 0===(t=Number(t))?""===e:1===t?""!==e&&-1===e.search(","):e.split(",").length===t},maxCount:function(e,t){return 0!==(t=Number(t))&&(1===t?-1===e.search(","):e.split(",").length<=t)}}}}(jQuery,window,document);